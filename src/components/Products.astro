---
import Card from './Card.astro';

const data = [
    {
        title: "Title1",
        description: "Descripcion",
        imageUrl: "/img/Fachada.jpg",
        link: "#"
    },
    {
        title: "Title2",
        description: "Descripcion",
        imageUrl: "/img/logoblanco.png",
        link: "#"
    },
    {
        title: "Title3",
        description: "Descripcion",
        imageUrl: "/img/Fachada.jpg",
        link: "#"
    },
    {
        title: "Title4",
        description: "Descripcion",
        imageUrl: "/img/Fachada.jpg",
        link: "#"
    },
    // Agrega más objetos de datos aquí
];
---

<style>
  .background-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%; /* Ocupa toda la pantalla */
    background-image: url('/img/Fachada.jpg'); /* Imagen inicial del fondo */
    background-size: cover;
    background-position: center;
    z-index: -1;
    transition: background-image 0.5s ease-in-out;
  }

  .content-container {
    position: relative;
    z-index: 1;
    width: 100%;
    height: 110vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .card {
    width: 100%;
    max-width: 300px;
    margin: 1rem;
  }
</style>

<div id="backgroundContainer" class="background-container"></div>

<div class="content-container bg-black bg-opacity-40">
    <h1 class="text-4xl sm:text-5xl md:text-6xl font-bold text-center pb-6" style="color: white;">Modelos Disponibles</h1>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 justify-items-center">
        {data.map((item, index) => (
            <div id={`card-${index}`} class="card">
                <Card
                    title={item.title}
                    description={item.description}
                    imageUrl={item.imageUrl}
                    link={item.link} />
            </div>
        ))}
    </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const backgroundContainer = document.getElementById('backgroundContainer');

    if (backgroundContainer) {
      document.querySelectorAll('.card').forEach((card, index) => {
        const imageUrl = card.querySelector('img')?.src;

        if (imageUrl) {
          card.addEventListener('mouseover', () => {
            backgroundContainer.style.backgroundImage = `url(${imageUrl})`;
          });
        }
      });
    }
  });
</script>
